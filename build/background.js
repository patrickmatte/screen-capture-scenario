!function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}({4:function(e,t,r){e.exports=r(7)},7:function(e,t,r){"use strict";var o,n,i,a;function c(e){e.data&&e.data.size>0&&a.push(e.data)}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";chrome.browserAction.setIcon({path:{16:chrome.extension.getURL("assets/images/get_started16"+e+".png"),32:chrome.extension.getURL("assets/images/get_started32"+e+".png"),48:chrome.extension.getURL("assets/images/get_started48"+e+".png"),128:chrome.extension.getURL("assets/images/get_started128"+e+".png")}})}function d(e){n=!0;var t={audio:!0,video:!0,audioConstraints:{mandatory:{chromeMediaSource:"tab"}},videoConstraints:{mandatory:{chromeMediaSource:"tab",minWidth:e.width,maxWidth:e.width,minHeight:e.height,maxHeight:e.height,minFrameRate:30,maxFrameRate:60}}};chrome.tabCapture.capture(t,u)}function u(e){e?o=e:alert("Stream creation failed: "+chrome.runtime.lastError.message),a=[],chrome.storage.local.get(["json"],p)}function p(e){var t="vp8",r="opus",n=8,a=128;if(e.json){var s=JSON.parse(e.json);s.settings&&(t=s.settings.videoCodec||t,r=s.settings.audioCodec||r,a=s.settings.audioBitsPerSecond||a,n=s.settings.videoBitsPerSecond||n)}var d={mimeType:"video/webm;codecs="+t+","+r};MediaRecorder.isTypeSupported(d.mimeType)||(d={mimeType:"video/webm;codecs=vp9"},MediaRecorder.isTypeSupported(d.mimeType)||(d={mimeType:"video/webm;codecs=vp8"},MediaRecorder.isTypeSupported(d.mimeType)||(d={mimeType:"video/webm"},MediaRecorder.isTypeSupported(d.mimeType)||(d={mimeType:""})))),d.audioBitsPerSecond=1e3*a,d.videoBitsPerSecond=1e6*n;try{i=new MediaRecorder(o,d)}catch(e){return console.error("Exception while creating MediaRecorder:",e),void console.log("Exception while creating MediaRecorder: ".concat(JSON.stringify(e)))}i.ondataavailable=c,i.start(10)}function m(){s(),i&&i.stop();var e=new Blob(a,{type:"video/webm"});if(window.videoURL=window.URL.createObjectURL(e),o)for(var t=o.getTracks(),r=0;r<t.length;++r)t[r].stop();i=null,o=null,n=!1}r.r(t),chrome.runtime.onMessage.addListener((function(e,t,r){switch(e.txt){case"scrollCaptureStartRecording":e.tabId,s("_red"),chrome.tabs.get(window.tabId,d);break;case"scrollCaptureStopRecording":m();break;case"scrollCaptureTrackEvent":!function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=["_trackEvent",e,t];r&&o.push(r),window._gaq.push(o)}(e.category,e.action,e.label);break;case"scrollCaptureTrackPage":o=e.path,window._gaq.push(["_set","page",o]),window._gaq.push(["_trackPageview"])}var o})),function(e){window._gaq=window._gaq||[],window._gaq.push(["_setAccount",e]),window._gaq.push(["_trackPageview"]);var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://ssl.google-analytics.com/ga.js";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(t,r)}("UA-161404627-2"),chrome.browserAction.onClicked.addListener((function(e){n&&m(),chrome.tabs.executeScript({file:"content.js"}),window.tabId=e.id}))}});